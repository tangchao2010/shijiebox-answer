{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?6898","webpack:///./src/App.vue","webpack:///./src/utils/mixin.js","webpack:///./src/router/index.js","webpack:///./src/api/api/base.js","webpack:///./src/store/getters.js","webpack:///./src/store/modules/user.js","webpack:///./src/store/index.js","webpack:///./src/api/http.js","webpack:///./src/api/api/index.js","webpack:///./src/api/api/home.js","webpack:///./src/main.js","webpack:///./src/config/rem.js"],"names":["App","name","watch","$route","to","from","document","body","scrollTop","documentElement","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","meta","_e","_v","keepAlive","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","getLocalStorage","key","window","localStorage","getItem","Vue","use","Router","constantRouterMap","path","redirect","component","e","then","bind","title","vueRouter","routes","scrollBehavior","savedPosition","x","y","beforeEach","next","requireAuth","query","fullPath","base","baseUrl","imgBaseUrl","classifyUrl","getters","token","state","user","mutations","SET_USERIDTOKEN_DATA","data","userId","user_id","actions","vue","Vuex","store","Store","modules","toLogin","router","replace","currentRoute","instance","axios","create","timeout","defaults","headers","post","interceptors","request","config","Authorization","error","promise_default","a","reject","response","status","other","setTimeout","console","log","errorHandle","message","api","home","getBannerData","params","Vant","prototype","$api","productionTip","el","components","template","doc","win","resizeEvt","recalc","docEl","clientWidth","style","fontSize","addEventListener"],"mappings":"4IAgBAA,GACAC,KAAA,MACAC,OACAC,OADA,SACAC,EAAAC,GACAC,SAAAC,KAAAC,UAAA,EACAF,SAAAG,gBAAAD,UAAA,KClBeE,GADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,cAAmBE,OAAOhB,KAAA,YAAiBc,EAAA,cAA9IF,KAA8IV,OAAAgB,KAAA,UAAAJ,EAAA,eAA9IF,KAA8IO,MAAA,OAA9IP,KAA8IQ,GAAA,KAAAN,EAAA,cAA+GE,OAAOhB,KAAA,YAApQY,KAAqRV,OAAAgB,KAAAG,UAArRT,KAAqRO,KAAAL,EAAA,wBAE9RQ,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACE1B,EACAU,GATF,EAVA,SAAAiB,GACEF,EAAQ,SAaV,KAEA,MAUgC,oBCjBnBG,aAAkB,SAACC,GAC9B,GAAKA,EACL,OAAOC,OAAOC,aAAaC,QAAQH,KCRrCI,IAAIC,IAAIC,KAER,IAAMC,IAEFC,KAAM,IACNC,SAAU,UAGVD,KAAM,QACNpC,KAAM,OACNsC,UAAW,kBAAMd,EAAAe,EAAA,GAAAC,KAAAhB,EAAAiB,KAAA,eACjBvB,MACEwB,MAAO,KAEPrB,WAAW,KAIbe,KAAM,SACNpC,KAAM,QACNsC,UAAW,kBAAMd,EAAAe,EAAA,GAAAC,KAAAhB,EAAAiB,KAAA,eACjBvB,MACEwB,MAAO,SAITN,KAAM,YACNpC,KAAM,WACNsC,UAAW,kBAAMd,EAAAe,EAAA,GAAAC,KAAAhB,EAAAiB,KAAA,eACjBvB,MACEwB,MAAO,SAKPC,EAAY,IAAIT,KAEpBU,OAAQT,EACRU,eAH2B,SAGX1C,EAAIC,EAAM0C,GACxB,OAAIA,IAGE1C,EAAKc,KAAKG,YACZjB,EAAKc,KAAK4B,cAAgBzC,SAASC,KAAKC,YAEjCwC,EAAG,EAAGC,EAAG7C,EAAGe,KAAK4B,eAAiB,OAKjDH,EAAUM,WAAW,SAAC9C,EAAIC,EAAM8C,GAC1B/C,EAAGe,KAAKiC,YACNxB,EAAgB,eAClBuB,IAEgB,WAAZ/C,EAAGiC,KACLc,IAEAA,GACEd,KAAM,SACNgB,OAAQf,SAAUlC,EAAGkD,YAK3BH,IAGkB,WAAhB/C,EAAGkD,WACD1B,EAAgB,eAClBuB,GACEd,KAAMhC,EAAKiD,WAGbH,OAKSP,QCrEAW,GATbC,QAAS,8BAGTC,WAAY,kBAGZC,YAAa,6ECHAC,GAHbC,MAAO,SAAAC,GAAA,OAASA,EAAMC,KAAKF,QCcdE,GAbbD,OACED,MAAOhC,EAAgB,eAAiBA,EAAgB,eAAiB,IAE3EmC,WAEEC,qBAFS,SAEaH,EAAOI,GAC3BJ,EAAMK,OAASD,EAAKE,QACpBN,EAAMD,MAAQK,EAAKL,QAGvBQ,YCTFC,IAAInC,IAAIoC,KAER,IAOeC,EAPD,IAAID,IAAKE,OACrBC,SACEX,QAEFH,YCUIe,EAAU,WACdC,EAAOC,SACLvC,KAAM,SACNgB,OACEf,SAAUqC,EAAOE,aAAavB,aAwChCwB,EAAWC,IAAMC,QAAQC,QAAS,OAKtCH,EAASI,SAASC,QAAQC,KAAK,gBAAkB,mBAMjDN,EAASO,aAAaC,QAAQpD,IAC5B,SAAAqD,GAME,OAJIhB,EAAMZ,QAAQC,QAChB2B,EAAOJ,QAAQK,cAAf,GAAkCjB,EAAMZ,QAAQC,OAG3C2B,GAET,SAAAE,GAAA,OAASC,EAAAC,EAAQC,OAAOH,KAM1BX,EAASO,aAAaQ,SAAS3D,IAAI,SAAA2D,GACjC,GAAwB,MAApBA,EAASC,OAEX,OAAOD,GAER,SAAAJ,GAAS,IACFI,EAAaJ,EAAbI,SACR,GAAIA,EAIF,OArEgB,SAACC,EAAQC,GAE3B,OAAQD,GAEN,KAAK,IAEHpB,IACA,MAIF,KAAK,IAIHsB,WAAW,WACTtB,KACC,KACH,MAGF,KAAK,IAEH,MACF,QACEuB,QAAQC,IAAIH,IA2CdI,CAAYN,EAASC,OAAQD,EAAS5B,KAAKmC,SACpCP,EAEPH,EAAAC,EAAQC,OAAOH,EAAMI,SAAS5B,MAC9BgC,QAAQC,IAAI,UAIDpB,QCvGAuB,GACbC,MCCAC,cAFqB,SAENC,GACb,OAAOzB,EAAMK,KAAQ7B,EAAKC,QAAnB,mBAA8CgD,wCCCzDvE,IAAIC,IAAIuE,KAERxE,IAAIyE,UAAUC,KAAON,EACrBpE,IAAIsD,OAAOqB,eAAgB,EAG3B,IAAI3E,KACF4E,GAAI,OACJlC,SACAJ,QACAuC,YAAc9G,OACd+G,SAAU,+BCtBZ,IAAWC,EAAKC,EACHC,EAAWC,EAAlBC,EADKJ,EAYR1G,SAZa2G,EAYHnF,OAXPsF,SACJA,EAAQJ,EAAIvG,gBACZyG,EAAY,sBAAuBpF,OAAS,oBAAsB,SAClEqF,EAAS,WACP,IAAIE,EAAcD,EAAMC,YACnBA,IACLD,EAAME,MAAMC,SAAkBF,EAAc,IAArB,IAA4B,OAEhDL,EAAIQ,mBACTP,EAAIO,iBAAiBN,EAAWC,GAAQ,GACxCH,EAAIQ,iBAAiB,mBAAoBL,GAAQ","file":"static/js/app.fa121773c32f58c2ef49.js","sourcesContent":["<template>\n  <div id=\"app\">\n    <transition name=\"fadeIn\">\n      <!--需要缓存的内容-->\n      <keep-alive>\n        <router-view v-if=\"$route.meta.keepAlive\"></router-view>\n      </keep-alive>\n    </transition>\n    <!--不需要缓存的-->\n    <transition name=\"fadeIn\">\n      <router-view v-if=\"!$route.meta.keepAlive\"></router-view>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  watch: { // 使用watch 监听$router的变化\n    $route (to, from) {\n      document.body.scrollTop = 0\n      document.documentElement.scrollTop = 0\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import \"./style/common\";\n  // 进来是0,0-1显示是0.3s，出去0.3s到0\n  .router-fade-enter-active, .router-fade-leave-active {\n    transition: opacity .3s;\n  }\n  .router-fade-enter, .router-fade-leave-active {\n    opacity: 0;\n  }\n  // 进来是0,0-1显示是0.3s，出去0.3s到0\n  .fadeIn-enter{\n    opacity: 0;\n  }\n  .fadeIn-enter-active{\n    transition: all 0.3s linear;\n  }\n  .fadeIn-leave-active{\n    transition: all 0.3s linear;\n    opacity: 0;\n  }\n  #app {\n    .activity {\n      .van-dialog {\n        width: auto;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"fadeIn\"}},[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1)],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fadeIn\"}},[(!_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7eb48d07\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7eb48d07\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7eb48d07\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","export const setLocalStorage = (key, value) => {\n  if (!key) return\n  let val = value\n  if (typeof value !== 'string') {\n    val = JSON.stringify(value)\n  }\n  window.localStorage.setItem(key, val)\n}\n\nexport const getLocalStorage = (key) => {\n  if (!key) return\n  return window.localStorage.getItem(key)\n}\n\nexport const removeLocalStorage = (key) => {\n  if (!key) return\n  window.localStorage.removeItem(key)\n}\n\nexport const setSessionStorage = (key, value) => {\n  if (!key) return\n  let val = value\n  if (typeof value !== 'string') {\n    val = JSON.stringify(value)\n  }\n  window.sessionStorage.setItem(key, val)\n}\n\nexport const getSessionStorage = (key) => {\n  if (!key) return\n  return window.sessionStorage.getItem(key)\n}\n\nexport const removeSessionStorage = (key) => {\n  if (!key) return\n  window.sessionStorage.removeItem(key)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/mixin.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport {getLocalStorage} from '../utils/mixin'\nVue.use(Router)\n\nconst constantRouterMap = [\n  {\n    path: '/',\n    redirect: '/home'\n  },\n  {\n    path: '/home',\n    name: 'home',\n    component: () => import('../pages/home/home.vue'),\n    meta: {\n      title: '首页',\n      // requireAuth: true,\n      keepAlive: false\n    }\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: () => import('../pages/login/index.vue'),\n    meta: {\n      title: '登录页'\n    }\n  },\n  {\n    path: '/activity',\n    name: 'activity',\n    component: () => import('../pages/activity/activity.vue'),\n    meta: {\n      title: '活动页'\n    }\n  }\n]\n\nconst vueRouter = new Router({\n  // mode: 'history',\n  routes: constantRouterMap,\n  scrollBehavior (to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition\n    } else {\n      if (from.meta.keepAlive) {\n        from.meta.savedPosition = document.body.scrollTop\n      }\n      return { x: 0, y: to.meta.savedPosition || 0 }\n    }\n  }\n})\n\nvueRouter.beforeEach((to, from, next) => {\n  if (to.meta.requireAuth) { // 判断该路由是否需要登录权限\n    if (getLocalStorage('MemberToken')) { // 通过vuex state获取当前的token是否存在 // 或者缓存\n      next()\n    } else {\n      if (to.path === '/login') { // 如果是登录页面路径\n        next()\n      } else { // 跳转到登录\n        next({\n          path: '/login',\n          query: {redirect: to.fullPath} // 将跳转的路由path作为参数，登录成功后跳转到该路由\n        })\n      }\n    }\n  } else {\n    next()\n  }\n  // 如果本地 存在 token 则不允许直接跳转到 登录页面\n  if (to.fullPath === '/login') {\n    if (getLocalStorage('MemberToken')) {\n      next({\n        path: from.fullPath\n      })\n    } else {\n      next()\n    }\n  }\n})\n\nexport default vueRouter\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","/**\n * 接口域名的管理\n */\nconst base = {\n  baseUrl: 'http://114.116.142.110:8089', // 开发： http://xxx.com   生产：http://xxx.co\n\n  // 图片接口\n  imgBaseUrl: 'http://xxx.com/',\n\n  // 静态json\n  classifyUrl: 'http://xxx/xxx.json'\n}\n\nexport default base\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api/base.js","/**\n * 公共属性\n * */\nconst getters = {\n  token: state => state.user.token // 获取用户token\n}\n\nexport default getters\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import {\n  getLocalStorage\n} from '../../utils/mixin'\n\nconst user = {\n  state: {\n    token: getLocalStorage('MemberToken') ? getLocalStorage('MemberToken') : ''\n  },\n  mutations: {\n    // 保存用户id和token\n    SET_USERIDTOKEN_DATA (state, data) {\n      state.userId = data.user_id\n      state.token = data.token\n    }\n  },\n  actions: {}\n}\n\nexport default user\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","import vue from 'vue'\nimport Vuex from 'vuex'\n\nimport getters from './getters'\nimport user from './modules/user'\n\nvue.use(Vuex)\n\nconst store = new Vuex.Store({\n  modules: { // 暴露的模块\n    user\n  },\n  getters // 暴露的state\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","/**\n * axios请求模块\n * */\nimport axios from 'axios'\nimport store from '../store/index'\nimport router from '../router'\n\n/**\n * 公共提示\n */\nconst tip = msg => {}\n\n/**\n * 请求loading\n */\nconst loadingText = msg => {\n  // loading\n}\n\n/**\n * 跳转登录页\n */\nconst toLogin = () => {\n  router.replace({\n    path: '/login',\n    query: {\n      redirect: router.currentRoute.fullPath\n    }\n  })\n}\n\n/**\n * 请求失败后的错误统一处理\n */\nconst errorHandle = (status, other) => {\n  // 状态码判断\n  switch (status) {\n    // 401: 未获取到登录状态，跳转登录页\n    case 401:\n      //  store.commit(types.LOGOUT); 清除token信息\n      toLogin()\n      break\n\n    // 403 token过期\n    // 清除token并跳转登录页\n    case 403:\n      tip('登录过期，请重新登录')\n      // localStorage.removeItem('token')\n      // store.commit('loginSuccess', null)\n      setTimeout(() => {\n        toLogin()\n      }, 1000)\n      break\n\n    // 404请求不存在\n    case 404:\n      tip('请求的资源不存在')\n      break\n    default:\n      console.log(other)\n  }\n}\n\n/**\n * 创建axios实例\n */\nvar instance = axios.create({timeout: 1000 * 12})\n\n/**\n * 设置post请求头\n */\ninstance.defaults.headers.post['Content-Type'] = 'application/json'\n\n/**\n * 请求拦截器\n * 每次请求前，如果存在token则在请求头中携带token\n */\ninstance.interceptors.request.use(\n  config => {\n    loadingText('玩命加载中...')\n    if (store.getters.token) { // 判断是否存在token，如果存在的话，则每个http header都加上token\n      config.headers.Authorization = `${store.getters.token}`\n      // config.headers.common['XX-Token']=store.state.token   //此处的XX-Token要根据登录接口中请求头的名字来写\n    }\n    return config\n  },\n  error => Promise.reject(error)\n)\n\n/**\n * 响应拦截器\n */\ninstance.interceptors.response.use(response => {\n  if (response.status === 200) {\n    // 清除提示\n    return response\n  }\n}, error => {\n  const { response } = error\n  if (response) {\n    // 清除提示\n    // 请求已发出，但是不在2xx的范围\n    errorHandle(response.status, response.data.message)\n    return response\n  } else {\n    Promise.reject(error.response.data) // 返回接口返回的错误信息\n    console.log('请求失败')\n  }\n})\n\nexport default instance\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/http.js","/**\n * api接口的统一出口\n */\n\nimport home from './home' // 首页模块接口\n\n// 导出接口\nexport default {\n  home\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api/index.js","/**\n * 首页接口管理\n */\nimport base from './base.js'\nimport axios from '../http.js' // 导入http.js创建的实例\n// import qs from 'qs' // 根据需求是否导入qs模块\n\nconst getHomeCmsData = {\n  // 首页banner\n  getBannerData (params) {\n    return axios.post(`${base.baseUrl}/index/wheel_adv`, params)\n  }\n}\nexport default getHomeCmsData\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api/home.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport api from './api/api' // 导入api接口\nimport store from './store/index.js' // 导入store接口\nimport './config/rem'\n\nimport Vant from 'vant'\nimport 'vant/lib/index.css'\nVue.use(Vant)\n\nVue.prototype.$api = api // 挂载原型\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","(function (doc, win) {\n  let docEl, resizeEvt, recalc // 获取根元素html\n  docEl = doc.documentElement\n  resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize'\n  recalc = function () {\n    let clientWidth = docEl.clientWidth\n    if (!clientWidth) return\n    docEl.style.fontSize = 100 * (clientWidth / 750) + 'px'\n  }\n  if (!doc.addEventListener) return\n  win.addEventListener(resizeEvt, recalc, false)\n  doc.addEventListener('DOMContentLoaded', recalc, false)\n})(document, window)\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/rem.js"],"sourceRoot":""}