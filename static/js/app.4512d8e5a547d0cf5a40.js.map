{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?3e7e","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/api/api/base.js","webpack:///./src/store/getters.js","webpack:///./src/utils/mixin.js","webpack:///./src/store/modules/user.js","webpack:///./src/store/index.js","webpack:///./src/api/http.js","webpack:///./src/api/api/index.js","webpack:///./src/api/api/home.js","webpack:///./src/api/api/activity.js","webpack:///./src/main.js","webpack:///./src/config/rem.js"],"names":["App","name","watch","$route","to","from","document","body","scrollTop","documentElement","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","meta","_e","_v","keepAlive","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","use","Router","constantRouterMap","path","redirect","component","e","then","bind","title","vueRouter","routes","scrollBehavior","savedPosition","x","y","base","baseUrl","imgBaseUrl","classifyUrl","getters","token","state","user","getLocalStorage","key","window","localStorage","getItem","mutations","SET_USERIDTOKEN_DATA","data","userId","user_id","actions","vue","Vuex","store","Store","modules","toLogin","router","replace","query","currentRoute","fullPath","instance","axios","create","timeout","defaults","headers","post","interceptors","request","config","Authorization","error","promise_default","a","reject","response","status","other","setTimeout","console","log","errorHandle","message","api","home","getBannerData","params","activity","Vant","prototype","$api","productionTip","el","components","template","doc","win","resizeEvt","recalc","docEl","clientWidth","style","fontSize","addEventListener"],"mappings":"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","file":"static/js/app.4512d8e5a547d0cf5a40.js","sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <transition name=\"fadeIn\">\r\n      <!--需要缓存的内容-->\r\n      <keep-alive>\r\n        <router-view v-if=\"$route.meta.keepAlive\"></router-view>\r\n      </keep-alive>\r\n    </transition>\r\n    <!--不需要缓存的-->\r\n    <transition name=\"fadeIn\">\r\n      <router-view v-if=\"!$route.meta.keepAlive\"></router-view>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n  watch: { // 使用watch 监听$router的变化\r\n    $route (to, from) {\r\n      document.body.scrollTop = 0\r\n      document.documentElement.scrollTop = 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  @import \"./style/common\";\r\n  // 进来是0,0-1显示是0.3s，出去0.3s到0\r\n  .router-fade-enter-active, .router-fade-leave-active {\r\n    transition: opacity .3s;\r\n  }\r\n  .router-fade-enter, .router-fade-leave-active {\r\n    opacity: 0;\r\n  }\r\n  // 进来是0,0-1显示是0.3s，出去0.3s到0\r\n  .fadeIn-enter{\r\n    opacity: 0;\r\n  }\r\n  .fadeIn-enter-active{\r\n    transition: all 0.3s linear;\r\n  }\r\n  .fadeIn-leave-active{\r\n    transition: all 0.3s linear;\r\n    opacity: 0;\r\n  }\r\n  #app {\r\n    .activity {\r\n      .van-dialog {\r\n        width: auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"fadeIn\"}},[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1)],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fadeIn\"}},[(!_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71138a92\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71138a92\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71138a92\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n// import {getLocalStorage} from '../utils/mixin'\nVue.use(Router)\n\nconst constantRouterMap = [\n  {\n    path: '/',\n    redirect: '/home'\n  },\n  {\n    path: '/home',\n    name: 'home',\n    component: () => import('../pages/home/home.vue'),\n    meta: {\n      title: '首页',\n      // requireAuth: true,\n      keepAlive: true\n    }\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: () => import('../pages/login/index.vue'),\n    meta: {\n      title: '登录页'\n    }\n  },\n  {\n    path: '/activity',\n    name: 'activity',\n    component: () => import('../pages/activity/activity.vue'),\n    meta: {\n      title: '活动页'\n    }\n  }\n]\n\nconst vueRouter = new Router({\n  // mode: 'history',\n  routes: constantRouterMap,\n  scrollBehavior (to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition\n    } else {\n      if (from.meta.keepAlive) {\n        from.meta.savedPosition = document.body.scrollTop\n      }\n      return { x: 0, y: to.meta.savedPosition || 0 }\n    }\n  }\n})\n\n/* vueRouter.beforeEach((to, from, next) => {\n  if (to.meta.requireAuth) { // 判断该路由是否需要登录权限\n    if (getLocalStorage('MemberToken')) { // 通过vuex state获取当前的token是否存在 // 或者缓存\n      next()\n    } else {\n      if (to.path === '/login') { // 如果是登录页面路径\n        next()\n      } else { // 跳转到登录\n        next({\n          path: '/login',\n          query: {redirect: to.fullPath} // 将跳转的路由path作为参数，登录成功后跳转到该路由\n        })\n      }\n    }\n  } else {\n    next()\n  }\n  // 如果本地 存在 token 则不允许直接跳转到 登录页面\n  if (to.fullPath === '/login') {\n    if (getLocalStorage('MemberToken')) {\n      next({\n        path: from.fullPath\n      })\n    } else {\n      next()\n    }\n  }\n}) */\n\nexport default vueRouter\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","/**\r\n * 接口域名的管理\r\n */\r\nconst base = {\r\n  baseUrl: 'http://114.116.142.110:8089', // 开发： http://xxx.com   生产：http://xxx.co\r\n\r\n  // 图片接口\r\n  imgBaseUrl: 'http://xxx.com/',\r\n\r\n  // 静态json\r\n  classifyUrl: 'http://xxx/xxx.json'\r\n}\r\n\r\nexport default base\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api/base.js","/**\r\n * 公共属性\r\n * */\r\nconst getters = {\r\n  token: state => state.user.token // 获取用户token\r\n}\r\n\r\nexport default getters\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","export const setLocalStorage = (key, value) => {\r\n  if (!key) return\r\n  let val = value\r\n  if (typeof value !== 'string') {\r\n    val = JSON.stringify(value)\r\n  }\r\n  window.localStorage.setItem(key, val)\r\n}\r\n\r\nexport const getLocalStorage = (key) => {\r\n  if (!key) return\r\n  return window.localStorage.getItem(key)\r\n}\r\n\r\nexport const removeLocalStorage = (key) => {\r\n  if (!key) return\r\n  window.localStorage.removeItem(key)\r\n}\r\n\r\nexport const setSessionStorage = (key, value) => {\r\n  if (!key) return\r\n  let val = value\r\n  if (typeof value !== 'string') {\r\n    val = JSON.stringify(value)\r\n  }\r\n  window.sessionStorage.setItem(key, val)\r\n}\r\n\r\nexport const getSessionStorage = (key) => {\r\n  if (!key) return\r\n  return window.sessionStorage.getItem(key)\r\n}\r\n\r\nexport const removeSessionStorage = (key) => {\r\n  if (!key) return\r\n  window.sessionStorage.removeItem(key)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/mixin.js","import {\r\n  getLocalStorage\r\n} from '../../utils/mixin'\r\n\r\nconst user = {\r\n  state: {\r\n    token: getLocalStorage('MemberToken') ? getLocalStorage('MemberToken') : ''\r\n  },\r\n  mutations: {\r\n    // 保存用户id和token\r\n    SET_USERIDTOKEN_DATA (state, data) {\r\n      state.userId = data.user_id\r\n      state.token = data.token\r\n    }\r\n  },\r\n  actions: {}\r\n}\r\n\r\nexport default user\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","import vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport getters from './getters'\r\nimport user from './modules/user'\r\n\r\nvue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  modules: { // 暴露的模块\r\n    user\r\n  },\r\n  getters // 暴露的state\r\n})\r\n\r\nexport default store\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","/**\r\n * axios请求模块\r\n * */\r\nimport axios from 'axios'\r\nimport store from '../store/index'\r\nimport router from '../router'\r\n\r\n/**\r\n * 公共提示\r\n */\r\nconst tip = msg => {}\r\n\r\n/**\r\n * 请求loading\r\n */\r\nconst loadingText = msg => {\r\n  // loading\r\n}\r\n\r\n/**\r\n * 跳转登录页\r\n */\r\nconst toLogin = () => {\r\n  router.replace({\r\n    path: '/login',\r\n    query: {\r\n      redirect: router.currentRoute.fullPath\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 请求失败后的错误统一处理\r\n */\r\nconst errorHandle = (status, other) => {\r\n  // 状态码判断\r\n  switch (status) {\r\n    // 401: 未获取到登录状态，跳转登录页\r\n    case 401:\r\n      //  store.commit(types.LOGOUT); 清除token信息\r\n      toLogin()\r\n      break\r\n\r\n    // 403 token过期\r\n    // 清除token并跳转登录页\r\n    case 403:\r\n      tip('登录过期，请重新登录')\r\n      // localStorage.removeItem('token')\r\n      // store.commit('loginSuccess', null)\r\n      setTimeout(() => {\r\n        toLogin()\r\n      }, 1000)\r\n      break\r\n\r\n    // 404请求不存在\r\n    case 404:\r\n      tip('请求的资源不存在')\r\n      break\r\n    default:\r\n      console.log(other)\r\n  }\r\n}\r\n\r\n/**\r\n * 创建axios实例\r\n */\r\nvar instance = axios.create({timeout: 1000 * 12})\r\n\r\n/**\r\n * 设置post请求头\r\n */\r\ninstance.defaults.headers.post['Content-Type'] = 'application/json'\r\n\r\n/**\r\n * 请求拦截器\r\n * 每次请求前，如果存在token则在请求头中携带token\r\n */\r\ninstance.interceptors.request.use(\r\n  config => {\r\n    loadingText('玩命加载中...')\r\n    if (store.getters.token) { // 判断是否存在token，如果存在的话，则每个http header都加上token\r\n      config.headers.Authorization = `${store.getters.token}`\r\n      // config.headers.common['XX-Token']=store.state.token   //此处的XX-Token要根据登录接口中请求头的名字来写\r\n    }\r\n    return config\r\n  },\r\n  error => Promise.reject(error)\r\n)\r\n\r\n/**\r\n * 响应拦截器\r\n */\r\ninstance.interceptors.response.use(response => {\r\n  if (response.status === 200) {\r\n    // 清除提示\r\n    return response\r\n  }\r\n}, error => {\r\n  const { response } = error\r\n  if (response) {\r\n    // 清除提示\r\n    // 请求已发出，但是不在2xx的范围\r\n    errorHandle(response.status, response.data.message)\r\n    return response\r\n  } else {\r\n    Promise.reject(error.response.data) // 返回接口返回的错误信息\r\n    console.log('请求失败')\r\n  }\r\n})\r\n\r\nexport default instance\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/http.js","/**\n * api接口的统一出口\n */\n\nimport home from './home' // 首页模块接口\nimport activity from './activity' // 首页模块接口\n\n// 导出接口\nexport default {\n  home,\n  activity\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api/index.js","/**\r\n * 首页接口管理\r\n */\r\nimport base from './base.js'\r\nimport axios from '../http.js' // 导入http.js创建的实例\r\n// import qs from 'qs' // 根据需求是否导入qs模块\r\n\r\nconst getHomeCmsData = {\r\n  // 首页banner\r\n  getBannerData (params) {\r\n    return axios.post(`${base.baseUrl}/index/wheel_adv`, params)\r\n  }\r\n}\r\nexport default getHomeCmsData\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api/home.js","import base from './base.js'\nimport axios from '../http.js'\n\nconst getHomeCmsData = {\n  // 首页banner\n  getBannerData (params) {\n    return axios.post(`${base.baseUrl}/index/wheel_adv`, params)\n  }\n}\nexport default getHomeCmsData\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api/activity.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport api from './api/api' // 导入api接口\nimport store from './store/index.js' // 导入store接口\nimport './config/rem'\n\nimport Vant from 'vant'\nimport 'vant/lib/index.css'\nVue.use(Vant)\n\nVue.prototype.$api = api // 挂载原型\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","(function (doc, win) {\r\n  let docEl, resizeEvt, recalc // 获取根元素html\r\n  docEl = doc.documentElement\r\n  resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize'\r\n  recalc = function () {\r\n    let clientWidth = docEl.clientWidth\r\n    if (!clientWidth) return\r\n    docEl.style.fontSize = 100 * (clientWidth / 750) + 'px'\r\n  }\r\n  if (!doc.addEventListener) return\r\n  win.addEventListener(resizeEvt, recalc, false)\r\n  doc.addEventListener('DOMContentLoaded', recalc, false)\r\n})(document, window)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/rem.js"],"sourceRoot":""}